micronaut:
  application:
    name: payments-worker
  server:
    port: ${PAYMENTS_PORT:9091}
    thread-selection: AUTO
    netty:
      worker:
        threads: ${NETTY_WORKER_THREADS:50}
      parent:
        threads: ${NETTY_PARENT_THREADS:4}

logger:
  levels:
    root: WARN
    io.micronaut: INFO
    com.acme.payments: INFO
    com.acme.reliable: INFO

datasources:
  default:
    enabled: true
    url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/${POSTGRES_DB:payments}
    username: ${POSTGRES_USER:postgres}
    password: ${POSTGRES_PASSWORD:postgres}
    driverClassName: org.postgresql.Driver
    maximum-pool-size: ${HIKARI_MAX_POOL_SIZE:50}
    minimum-idle: ${HIKARI_MIN_IDLE:10}

flyway:
  datasources:
    default:
      enabled: true

jms:
  consumers:
    enabled: true

kafka:
  bootstrap:
    servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

mq:
  required-queues: ${MQ_REQUIRED_QUEUES:APP.CMD.BOOKFX.Q,APP.CMD.BOOKLIMITS.Q,APP.CMD.COMPLETEACCOUNTCREATION.Q,APP.CMD.CREATEACCOUNT.Q,APP.CMD.CREATELIMITS.Q,APP.CMD.CREATEPAYMENT.Q,APP.CMD.CREATETRANSACTION.Q,APP.CMD.INITIATESIMPLEPAYMENT.Q,APP.CMD.REVERSELIMITS.Q,APP.CMD.REVERSETRANSACTION.Q,APP.CMD.UNWINDFX.Q,APP.CMD.REPLY.Q}
  host: ${MQ_HOST:localhost}
  port: ${MQ_PORT:1414}
  qmgr: ${MQ_QMGR:QM1}
  channel: ${MQ_CHANNEL:DEV.APP.SVRCONN}
  user: ${MQ_USER:app}
  password: ${MQ_PASS:passw0rd}

messaging:
  queue-naming:
    command-prefix: ${MQ_COMMAND_PREFIX:APP.CMD.}
    queue-suffix: ${MQ_QUEUE_SUFFIX:.Q}
    reply-queue: ${MQ_REPLY_QUEUE:APP.CMD.REPLY.Q}
